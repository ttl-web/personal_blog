(()=>{"use strict";const e=document.getElementById("sidebarToggle"),t=(document.getElementById("sidebar"),document.getElementById("page")),n=document.body;function o(){n.classList.remove("show-sidebar"),document.querySelector(".page__mask").remove()}e.addEventListener("click",(e=>{n.classList.contains("show-sidebar")?o():function(){let e=document.createElement("div");e.classList.add("page__mask"),e.addEventListener("click",o),t.appendChild(e),n.classList.add("show-sidebar")}()}));document.querySelectorAll("[data-autoresize").forEach((e=>{let t=e.offsetHeight;e.addEventListener("input",(e=>{let n=e.target;n.style.height=t+"px",n.style.height=n.scrollHeight+"px"}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form");function t(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function n(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function o(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}e.addEventListener("submit",(async function(s){s.preventDefault();let r=function(e){let s=0,r=document.querySelectorAll("._req");for(let e=0;e<r.length;e++){const a=r[e];n(a),a.classList.contains("_email")?o(a)&&(t(a),s++):""===a.value&&(t(a),s++)}return s}(),a=new FormData(e);if(0===r){let t=await fetch("componetns/sendmail/sendmail.php",{method:"POST",body:a});if(t.ok){let n=await t.json();alert(n.message),e.reset()}else alert("Ошибка!")}else alert("Заполните обязательные поля!")}))}));const s=document.querySelectorAll("[data-modal]"),r=document.body,a=document.querySelectorAll(".popup__cancel"),c=document.querySelectorAll(".popup");function l(e){e.querySelector(".popup__content").removeAttribute("style"),setTimeout((()=>{e.classList.remove("show"),r.classList.remove("no-scroll")}),200)}s.forEach((e=>{e.addEventListener("click",(e=>{let t=e.currentTarget.getAttribute("data-modal"),n=document.getElementById(t),o=n.querySelector(".popup__content");o.addEventListener("click",(e=>{e.stopPropagation()})),n.classList.add("show"),r.classList.add("no-scroll"),setTimeout((()=>{o.style.transform="none",o.style.opacity="1"}),100)}))})),a.forEach((e=>{e.addEventListener("click",(e=>{l(e.currentTarget.closest(".popup"))}))})),c.forEach((e=>{e.addEventListener("click",(e=>{l(e.currentTarget)}))}))})();